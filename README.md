# ИДЗ по ОС №3
### Цейтин Андрей Владимирович БПИ217
### Вариант: 13
# <br> Отчет
## Работа системы: 
### Предоставленно решение задачи на С, разными способами. Условие задачи:
В гостинице 10
номеров с ценой 2000 рублей, 10 номеров с ценой 4000 рублей и
5 номеров с ценой 6000 руб. Клиент, зашедший в гостиницу, обладает некоторой (случайной) суммой и получает номер по своим
финансовым возможностям, если тот свободен. При наличии денег и разных по стоимости номеров он выбирает случайный номер.
Если доступных по цене свободных номеров нет, клиент уходит искать ночлег в другое место. Клиенты порождаются динамически и
уничтожаются при освобождении номера или уходе из гостиницы
при невозможности оплаты. Создать приложение, моделирующее работу гостиницы. Каждого клиента реализовать в виде
отдельного процесса.
## <br> На 4-5 балла:
### Предоставленно решение задачи на С:
* [Client.c](https://github.com/CehhGhost/OS3/blob/main/First%20Prog/C%20code/Client.c)
* [Server.c](https://github.com/CehhGhost/OS3/blob/main/First%20Prog/C%20code/Server.c)
### Работа программы:
Сначала запускается сервер, затем ожидается подключение пользователей. Каждый пользователь вызывается в отдельный поток. Пользователь имеет на выбор 4 действия:
* Получить список всех доступных для бронирования комнат (с учетом цены и занятости).
* Забронировать комнату по номеру, если до этого была уже забронирована комната, то она предварительно освобождается.
* Освободить занятую комнату.
* Выйти (процесс работы клиента заканчивается и он отсоединяется от сервера).
Для связи пользователя с сервером, они обмениваются запросами, которые после каждый из них обрабатывает и выполняет соответсвующие действия.

P.S. При вызове сервера и клиента через командную строку необходимо передвать им данные IP и порт (серверу только порт).
### Тестирование программы
Демонстрационное видео работы программы: [test1](https://github.com/CehhGhost/OS3/blob/main/First%20Prog/Test1.mkv).
## <br> На 6-7 баллов:
### Предоставленно решение задачи на С:
* [Client.c](https://github.com/CehhGhost/OS3/blob/main/Second%20Prog/C%20code/Client.c)
* [Server.c](https://github.com/CehhGhost/OS3/blob/main/Second%20Prog/C%20code/Server.c)
* [Spectator.c](https://github.com/CehhGhost/OS3/blob/main/Second%20Prog/C%20code/Spectator.c)
### Работа программы:
Ничем особо не отличается, кроме того, что теперь пользователь может обратиться к спектаторам, которые хранят все сообщения, чтобы сразу получить нужную информацию о работе системы в целом. В связи с этим теперь добавился новый клиент спектатор, который также подсоединяется к серверу. Чтобы отличать спектатора от клиента, подключаемые отправляют сообщение на сервер с соответсвующим содержимым ("spectator"/"guest"). Для простоты спектаторов может быть не больше 10.

P.S. При вызове сервера, клиента и спектатора через командную строку необходимо передвать им данные IP и порт (серверу только порт).
### Тестирование программы
Демонстрационное видео работы программы: [test2](https://github.com/CehhGhost/OS3/blob/main/Second%20Prog/Test2.mkv).
